<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

</head>
<body>
<header class="header">
    <div>
        <img class="logo" th:src="@{/img/logo.png}">
        <form th:action="@{/logout}" method="post">
            <button type="submit">–í—ã–π—Ç–∏</button>
        </form>
    </div>
</header>
<section class="d-flex justify-content-center align-items-center">
    <div class="container">
        <h2 class="admin-title">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞</h2>

        <form class="admin-form" th:action="@{/admin/save-course}" method="post" enctype="multipart/form-data">
            <label class="admin-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞:</label>
            <input type="text" name="title" class="admin-input" required>

            <label class="admin-label">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
            <textarea name="description" rows="3" class="admin-textarea"></textarea>

            <label class="admin-label">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∫–æ–Ω–∫–∏:</label>
            <input type="file" name="icons" multiple accept="image/*" class="admin-input">

            <button type="submit" class="admin-button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </form>

        <div class="admin-links">
            <a th:href="@{/admin/users}" class="admin-link">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
            <a th:href="@{/admin/user-form}" class="admin-link">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</a>
        </div>

        <h2 class="admin-title">–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫—É—Ä—Å—ã</h2>

        <div class="admin-course-list">
            <div th:each="c : ${courses}" class="admin-course-card">
                <div class="admin-course-header">
                    <h3 th:text="${c.title}" class="admin-course-title"></h3>
                    <div class="admin-actions">
                        <a th:href="@{'/admin/module-form/' + ${c.id}}" class="admin-link">‚ûï –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å</a>
                        <a th:href="@{'/admin/edit-course/' + ${c.id}}" class="admin-link">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—É—Ä—Å</a>
                        <a th:href="@{'/admin/delete-course/' + ${c.id}}" class="admin-link red"
                           onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –∫—É—Ä—Å?')">üóë –£–¥–∞–ª–∏—Ç—å –∫—É—Ä—Å</a>
                    </div>
                </div>

                <div th:if="${c.modules != null}" class="admin-modules">
                    <div th:each="m : ${c.modules}" class="admin-module-block">
                        <div class="admin-module-header">
                            <strong th:text="${m.title}" class="admin-module-title"></strong>
                            <div class="admin-actions">
                                <a th:href="@{'/admin/video-form/' + ${m.id}}" class="admin-link">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ</a>
                                <a th:href="@{'/admin/edit-module/' + ${m.id}}" class="admin-link">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å</a>
                                <a th:href="@{'/admin/delete-module/' + ${m.id}}" class="admin-link red"
                                   onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –º–æ–¥—É–ª—å?')">üóë –£–¥–∞–ª–∏—Ç—å –º–æ–¥—É–ª—å</a>
                            </div>
                        </div>

                        <div th:if="${m.videos != null}" class="admin-video-list">
                            <div th:each="v : ${m.videos}" class="admin-video-block">
                                <span class="admin-video-title">üìπ <span th:text="${v.title}"></span></span>
                                <div class="admin-actions">
                                    <a th:href="@{'/admin/edit-video/' + ${v.id}}" class="admin-link">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ</a>
                                    <a th:href="@{'/admin/delete-video/' + ${v.id}}" class="admin-link red"
                                       onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –≤–∏–¥–µ–æ?')">üóë –£–¥–∞–ª–∏—Ç—å –≤–∏–¥–µ–æ</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div th:if="${param.success}" class="admin-success">
            <p>–ö—É—Ä—Å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!</p>
        </div>


    </div>
</section>
<p style="margin: 0 auto; text-align: center;padding-top: 50px;padding-bottom: 30px;">2020-2025 ¬© Web-Beam –≤—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</p>
</body>
</html>
